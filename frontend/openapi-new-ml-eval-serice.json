{
    "openapi": "3.1.0",
    "info": {
        "title": "Unified Clinical Trial ML Prediction Service",
        "description": "Multi-tenant microservice for clinical trial ML predictions. Supports database-driven configuration for easy trial addition.",
        "version": "1.0.0"
    },
    "paths": {
        "/api/ml-evaluation-service/v1/{trial_slug}/modules/{module_id}/predict": {
            "post": {
                "tags": [
                    "Predictions"
                ],
                "summary": "Predict Single",
                "description": "Run prediction for a single patient.\n\nArgs:\n    trial_slug: Trial identifier (e.g., 'car-t-cell-therapy-b')\n    module_id: Module identifier\n    data: Patient data\n    project_id: Project identifier\n    user_id: User ID from header\n    org_id: Organization ID from header\n\nReturns:\n    Prediction response with results from all models",
                "operationId": "predict_single_api_ml_evaluation_service_v1__trial_slug__modules__module_id__predict_post",
                "parameters": [
                    {
                        "name": "trial_slug",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Trial Slug"
                        }
                    },
                    {
                        "name": "module_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Module Id"
                        }
                    },
                    {
                        "name": "project_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "description": "Project identifier",
                            "title": "Project Id"
                        },
                        "description": "Project identifier"
                    },
                    {
                        "name": "user-id",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "User-Id"
                        }
                    },
                    {
                        "name": "org-id",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Org-Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PatientData"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PredictionResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/{trial_slug}/modules/{module_id}/predict/csv": {
            "post": {
                "tags": [
                    "Predictions"
                ],
                "summary": "Predict Batch Csv",
                "description": "Batch prediction from CSV file.\n\nArgs:\n    trial_slug: Trial identifier\n    module_id: Module identifier\n    file: CSV file with patient data\n    project_id: Project identifier\n    user_id: User ID from header\n    org_id: Organization ID from header\n\nReturns:\n    Batch prediction response with results for all rows",
                "operationId": "predict_batch_csv_api_ml_evaluation_service_v1__trial_slug__modules__module_id__predict_csv_post",
                "parameters": [
                    {
                        "name": "trial_slug",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Trial Slug"
                        }
                    },
                    {
                        "name": "module_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Module Id"
                        }
                    },
                    {
                        "name": "project_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Project Id"
                        }
                    },
                    {
                        "name": "user-id",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "User-Id"
                        }
                    },
                    {
                        "name": "org-id",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "null"
                                }
                            ],
                            "title": "Org-Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/Body_predict_batch_csv_api_ml_evaluation_service_v1__trial_slug__modules__module_id__predict_csv_post"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BatchPredictionResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/{trial_slug}/modules/{module_id}/predict/fields": {
            "get": {
                "tags": [
                    "Predictions"
                ],
                "summary": "Get Prediction Fields",
                "description": "Get field metadata for a trial.\n\nThis endpoint returns field metadata even during intermediate configuration stages:\n- If ML configuration exists: returns field metadata from the full config\n- If only field metadata is created (no full config): returns field metadata directly\n\nArgs:\n    trial_slug: Trial identifier\n    module_id: Module identifier\n\nReturns:\n    Field metadata for dynamic form generation",
                "operationId": "get_prediction_fields_api_ml_evaluation_service_v1__trial_slug__modules__module_id__predict_fields_get",
                "parameters": [
                    {
                        "name": "trial_slug",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Trial Slug"
                        }
                    },
                    {
                        "name": "module_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Module Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FieldMetadataResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/{trial_slug}/modules/{module_id}/models": {
            "get": {
                "tags": [
                    "Predictions"
                ],
                "summary": "Get Models Info",
                "description": "Get information about available models for a trial.\n\nThis endpoint returns model information even during intermediate configuration stages:\n- If ML configuration exists: returns fully loaded model info\n- If only models are uploaded (no full config): returns model registry info\n\nArgs:\n    trial_slug: Trial identifier\n    module_id: Module identifier\n\nReturns:\n    Models information including loading status",
                "operationId": "get_models_info_api_ml_evaluation_service_v1__trial_slug__modules__module_id__models_get",
                "parameters": [
                    {
                        "name": "trial_slug",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Trial Slug"
                        }
                    },
                    {
                        "name": "module_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Module Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ModelsInfoResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/{trial_slug}/modules/{module_id}/info": {
            "get": {
                "tags": [
                    "Predictions"
                ],
                "summary": "Get Trial Info",
                "description": "Get information about a trial.\n\nThis endpoint provides configuration status even during intermediate stages,\nshowing what components are configured and what's still needed.\n\nArgs:\n    trial_slug: Trial identifier\n    module_id: Module identifier\n\nReturns:\n    Trial information including configuration status",
                "operationId": "get_trial_info_api_ml_evaluation_service_v1__trial_slug__modules__module_id__info_get",
                "parameters": [
                    {
                        "name": "trial_slug",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Trial Slug"
                        }
                    },
                    {
                        "name": "module_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Module Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/TrialInfoResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/{trial_slug}/modules/{module_id}/charts": {
            "get": {
                "tags": [
                    "Charts"
                ],
                "summary": "Get Charts",
                "description": "Get chart data for a trial.\n\nArgs:\n    trial_slug: Trial identifier (e.g., 'car-t-cell-therapy-b')\n    module_id: Module identifier\n\nReturns:\n    Chart data for all configured charts\n\nRaises:\n    404: Trial not found\n    400: Chart support not enabled for trial\n    503: Chart data unavailable",
                "operationId": "get_charts_api_ml_evaluation_service_v1__trial_slug__modules__module_id__charts_get",
                "parameters": [
                    {
                        "name": "trial_slug",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Trial Slug"
                        }
                    },
                    {
                        "name": "module_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Module Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ChartDataResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/{trial_slug}/modules/{module_id}/charts/stats": {
            "get": {
                "tags": [
                    "Charts"
                ],
                "summary": "Get Chart Statistics",
                "description": "Get statistical summary of chart data for a trial.\n\nArgs:\n    trial_slug: Trial identifier\n    module_id: Module identifier\n\nReturns:\n    Statistical summary including total data points and response rates\n\nRaises:\n    404: Trial not found\n    400: Chart support not enabled for trial\n    503: Statistics unavailable",
                "operationId": "get_chart_statistics_api_ml_evaluation_service_v1__trial_slug__modules__module_id__charts_stats_get",
                "parameters": [
                    {
                        "name": "trial_slug",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Trial Slug"
                        }
                    },
                    {
                        "name": "module_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Module Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ChartStatisticsResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/{trial_slug}/modules/{module_id}/charts/add-patients": {
            "post": {
                "tags": [
                    "Charts"
                ],
                "summary": "Add Patients",
                "description": "Insert patient records into chart data collection.\n\nArgs:\n    trial_slug: Trial identifier\n    module_id: Module identifier\n    request: Insert request with patient records\n\nReturns:\n    Insert result with count of records inserted\n\nRaises:\n    404: Trial not found\n    400: Chart support not enabled for trial or no data provided\n    500: Insert failed",
                "operationId": "add_patients_api_ml_evaluation_service_v1__trial_slug__modules__module_id__charts_add_patients_post",
                "parameters": [
                    {
                        "name": "trial_slug",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Trial Slug"
                        }
                    },
                    {
                        "name": "module_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Module Id"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/InsertPatientsRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/InsertPatientsResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/admin/trials": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "List Trials",
                "description": "List all available ML configurations.\n\nReturns:\n    List of trial slugs with module IDs and basic ML configuration information",
                "operationId": "list_trials_api_ml_evaluation_service_v1_admin_trials_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "title": "Response List Trials Api Ml Evaluation Service V1 Admin Trials Get"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Create Trial",
                "description": "Create a new ML configuration for a trial.\n\nThe ML configuration will be immediately available for predictions after creation.\nNote: trial_slug + module_id forms a composite key that references an external trial.\nThe same trial_slug can exist with different module_id values.",
                "operationId": "create_trial_api_ml_evaluation_service_v1_admin_trials_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateTrialRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CreateTrialResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/admin/trials/{trial_slug}/modules/{module_id}/reload": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Reload Trial",
                "description": "Reload a trial configuration from database.\n\nUseful after updating trial config in MongoDB.\n\nArgs:\n    trial_slug: Trial identifier\n    module_id: Module identifier\n\nReturns:\n    Success message",
                "operationId": "reload_trial_api_ml_evaluation_service_v1_admin_trials__trial_slug__modules__module_id__reload_post",
                "parameters": [
                    {
                        "name": "trial_slug",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Trial Slug"
                        }
                    },
                    {
                        "name": "module_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Module Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "additionalProperties": {
                                        "type": "string"
                                    },
                                    "title": "Response Reload Trial Api Ml Evaluation Service V1 Admin Trials  Trial Slug  Modules  Module Id  Reload Post"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/admin/trials/{trial_slug}/modules/{module_id}": {
            "delete": {
                "tags": [
                    "Admin"
                ],
                "summary": "Delete Trial",
                "description": "Delete ML configuration for a trial.\n\nThis endpoint removes:\n- Trial configuration document\n- Associated model references (NOT the models themselves in the registry)\n- Field metadata specific to this trial+module\n- Chart configuration\n- Any cached data for this trial\n\nNote: This does NOT delete models from the model registry, only the references to them\nin this trial configuration. Models can be reused across trials.\n\nArgs:\n    trial_slug: Trial identifier\n    module_id: Module identifier\n\nReturns:\n    Success message with deletion confirmation",
                "operationId": "delete_trial_api_ml_evaluation_service_v1_admin_trials__trial_slug__modules__module_id__delete",
                "parameters": [
                    {
                        "name": "trial_slug",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Trial Slug"
                        }
                    },
                    {
                        "name": "module_id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "title": "Module Id"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/DeleteTrialResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/admin/health": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Health Check",
                "description": "Service health check.\n\nReturns:\n    Health status",
                "operationId": "health_check_api_ml_evaluation_service_v1_admin_health_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": {
                                        "type": "string"
                                    },
                                    "type": "object",
                                    "title": "Response Health Check Api Ml Evaluation Service V1 Admin Health Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/admin/services/status": {
            "get": {
                "tags": [
                    "Admin"
                ],
                "summary": "Get Services Status",
                "description": "Get status of all cached trial services.\n\nReturns:\n    Status of all loaded services",
                "operationId": "get_services_status_api_ml_evaluation_service_v1_admin_services_status_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "title": "Response Get Services Status Api Ml Evaluation Service V1 Admin Services Status Get"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/admin/cache/clear": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Clear Cache",
                "description": "Clear all caches (trial configs and services).\n\nUse with caution - will force reload of all trials on next request.\n\nReturns:\n    Success message",
                "operationId": "clear_cache_api_ml_evaluation_service_v1_admin_cache_clear_post",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "additionalProperties": {
                                        "type": "string"
                                    },
                                    "type": "object",
                                    "title": "Response Clear Cache Api Ml Evaluation Service V1 Admin Cache Clear Post"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/admin/field-metadata": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Create Field Metadata",
                "description": "Create a field metadata set for a trial.\n\nUsed for form generation, validation, and UI rendering.\nNote: trial_slug + module_id forms a composite key.",
                "operationId": "create_field_metadata_api_ml_evaluation_service_v1_admin_field_metadata_post",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateFieldMetadataRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CreateFieldMetadataResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/HTTPValidationError"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/v1/admin/models/unified": {
            "post": {
                "tags": [
                    "Admin"
                ],
                "summary": "Create Model Unified",
                "description": "Unified model registration endpoint with BentoML integration.\n\nSupports two modes in a single API call:\n\n**Mode A: File Upload (multipart/form-data)**\n- Upload a model file directly\n- File is stored in S3 with organized path structure\n- Model is registered in BentoML store\n- Requires: file, trial_slug, module_id in config\n\n**Mode B: URL/Path Reference (JSON body)**\n- Register model from existing S3 URI, HTTP URL, or filesystem path\n- Model is downloaded and registered in BentoML store\n- Requires: storage configuration in config\n\nThe model is immediately available after registration if auto_reload is true.\n\n**Request format (multipart/form-data):**\n- `file`: Optional model file upload\n- `model_config`: JSON string of UnifiedModelRequest\n\n**Example config JSON:**\n```json\n{\n    \"model_key\": \"obj_response\",\n    \"display_name\": \"Objective Response Predictor\",\n    \"model_type\": \"classification\",\n    \"model_framework\": \"xgboost\",\n    \"version\": \"1.0.0\",\n    \"trial_slug\": \"car-t-therapy\",\n    \"module_id\": \"module-a\",\n    \"save_to_bentoml\": true,\n    \"auto_reload\": true\n}\n```",
                "operationId": "create_model_unified_api_ml_evaluation_service_v1_admin_models_unified_post",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnifiedModelResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service": {
            "get": {
                "summary": "Root",
                "description": "Root endpoint",
                "operationId": "root_api_ml_evaluation_service_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        },
        "/api/ml-evaluation-service/health": {
            "get": {
                "summary": "Health",
                "description": "Health check endpoint",
                "operationId": "health_api_ml_evaluation_service_health_get",
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {
                                "schema": {}
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "BatchPredictionResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "default": "success"
                    },
                    "state": {
                        "type": "string",
                        "title": "State",
                        "default": "completed"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message"
                    },
                    "data": {
                        "items": {
                            "$ref": "#/components/schemas/BatchPredictionResult"
                        },
                        "type": "array",
                        "title": "Data"
                    }
                },
                "type": "object",
                "required": [
                    "message",
                    "data"
                ],
                "title": "BatchPredictionResponse",
                "description": "Response for batch prediction"
            },
            "BatchPredictionResult": {
                "properties": {
                    "row": {
                        "type": "integer",
                        "title": "Row"
                    },
                    "predictions": {
                        "items": {
                            "$ref": "#/components/schemas/PredictionResult"
                        },
                        "type": "array",
                        "title": "Predictions"
                    }
                },
                "type": "object",
                "required": [
                    "row",
                    "predictions"
                ],
                "title": "BatchPredictionResult",
                "description": "Batch prediction result for one row"
            },
            "Body_predict_batch_csv_api_ml_evaluation_service_v1__trial_slug__modules__module_id__predict_csv_post": {
                "properties": {
                    "file": {
                        "type": "string",
                        "format": "binary",
                        "title": "File"
                    }
                },
                "type": "object",
                "required": [
                    "file"
                ],
                "title": "Body_predict_batch_csv_api_ml_evaluation_service_v1__trial_slug__modules__module_id__predict_csv_post"
            },
            "ChartConfigRequest": {
                "properties": {
                    "enabled": {
                        "type": "boolean",
                        "title": "Enabled",
                        "description": "Enable charts for this trial?",
                        "default": false
                    },
                    "mongo_collection": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Mongo Collection",
                        "description": "MongoDB collection for chart data"
                    },
                    "response_field": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Response Field",
                        "description": "Response field name"
                    },
                    "response_values": {
                        "anyOf": [
                            {
                                "additionalProperties": {
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                },
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Response Values",
                        "description": "Response value mappings"
                    },
                    "chart_types": {
                        "anyOf": [
                            {
                                "items": {
                                    "$ref": "#/components/schemas/ChartTypeRequest"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Chart Types",
                        "description": "Chart type definitions"
                    }
                },
                "type": "object",
                "title": "ChartConfigRequest",
                "description": "Chart configuration"
            },
            "ChartDataResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Response status (success/error)"
                    },
                    "data": {
                        "additionalProperties": {
                            "items": {
                                "type": "object"
                            },
                            "type": "array"
                        },
                        "type": "object",
                        "title": "Data",
                        "description": "Chart data mapped by chart name"
                    }
                },
                "type": "object",
                "required": [
                    "status",
                    "data"
                ],
                "title": "ChartDataResponse",
                "description": "Response for chart data endpoint",
                "example": {
                    "data": {
                        "Gender": [
                            {
                                "CR": 58.2,
                                "PR+NR": 41.8,
                                "label": "Female"
                            },
                            {
                                "CR": 52.1,
                                "PR+NR": 47.9,
                                "label": "Male"
                            }
                        ],
                        "LDH levels": [
                            {
                                "CR": 65.5,
                                "PR+NR": 34.5,
                                "label": "Normal"
                            },
                            {
                                "CR": 42.3,
                                "PR+NR": 57.7,
                                "label": "Elevated"
                            }
                        ]
                    },
                    "status": "success"
                }
            },
            "ChartStatisticsResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Response status"
                    },
                    "statistics": {
                        "type": "object",
                        "title": "Statistics",
                        "description": "Statistical summary"
                    }
                },
                "type": "object",
                "required": [
                    "status",
                    "statistics"
                ],
                "title": "ChartStatisticsResponse",
                "description": "Response for chart statistics endpoint",
                "example": {
                    "statistics": {
                        "complete_response_rate": 58.7,
                        "partial_response_rate": 41.3,
                        "total_data_points": 150
                    },
                    "status": "success"
                }
            },
            "ChartTypeRequest": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Chart name"
                    },
                    "field": {
                        "type": "string",
                        "title": "Field",
                        "description": "Database field to aggregate"
                    },
                    "order": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Order",
                        "description": "Category order for display"
                    },
                    "normalize_type": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Normalize Type",
                        "description": "Normalization type (capitalize, strip, etc.)"
                    },
                    "is_distribution": {
                        "type": "boolean",
                        "title": "Is Distribution",
                        "description": "Is this a distribution chart?",
                        "default": false
                    },
                    "custom_grouping": {
                        "type": "boolean",
                        "title": "Custom Grouping",
                        "description": "Uses custom grouping?",
                        "default": false
                    },
                    "grouping_type": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Grouping Type",
                        "description": "Grouping type (age, etc.)"
                    },
                    "chart_type": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Chart Type",
                        "description": "Visualization type (bar, pie, donut, line, area, stacked_bar, horizontal_bar)",
                        "default": "bar"
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "field",
                    "order"
                ],
                "title": "ChartTypeRequest",
                "description": "Chart type configuration"
            },
            "CreateFieldMetadataRequest": {
                "properties": {
                    "trial_slug": {
                        "type": "string",
                        "title": "Trial Slug",
                        "description": "Trial identifier - forms composite key with module_id"
                    },
                    "module_id": {
                        "type": "string",
                        "title": "Module Id",
                        "description": "Module identifier - forms composite key with trial_slug"
                    },
                    "version": {
                        "type": "integer",
                        "title": "Version",
                        "description": "Metadata version",
                        "default": 1
                    },
                    "fields": {
                        "items": {
                            "$ref": "#/components/schemas/FieldDefinitionRequest"
                        },
                        "type": "array",
                        "title": "Fields",
                        "description": "Field definitions"
                    }
                },
                "type": "object",
                "required": [
                    "trial_slug",
                    "module_id",
                    "fields"
                ],
                "title": "CreateFieldMetadataRequest",
                "description": "Request to create field metadata set.\n\nNote: trial_slug + module_id forms a composite key.",
                "example": {
                    "fields": [
                        {
                            "category": "continuous",
                            "description": "Patient age at diagnosis",
                            "name": "Age",
                            "type": "number",
                            "ui_config": {
                                "display_order": 1,
                                "group": "Demographics"
                            },
                            "validation": {
                                "max_value": 120,
                                "min_value": 0,
                                "required": true
                            }
                        }
                    ],
                    "module_id": "module-a",
                    "trial_slug": "new-trial-study",
                    "version": 1
                }
            },
            "CreateFieldMetadataResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Response status"
                    },
                    "metadata_id": {
                        "type": "string",
                        "title": "Metadata Id",
                        "description": "Created metadata ID"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "description": "Success message"
                    }
                },
                "type": "object",
                "required": [
                    "status",
                    "metadata_id",
                    "message"
                ],
                "title": "CreateFieldMetadataResponse",
                "description": "Response for create field metadata endpoint",
                "example": {
                    "message": "Field metadata created successfully",
                    "metadata_id": "field_metadata_new_trial_study",
                    "status": "success"
                }
            },
            "CreateTrialRequest": {
                "properties": {
                    "trial_slug": {
                        "type": "string",
                        "title": "Trial Slug",
                        "description": "Trial identifier (reference to external trial) - forms composite key with module_id"
                    },
                    "module_id": {
                        "type": "string",
                        "title": "Module Id",
                        "description": "Module identifier - forms composite key with trial_slug"
                    },
                    "models": {
                        "items": {
                            "$ref": "#/components/schemas/ModelReferenceRequest"
                        },
                        "type": "array",
                        "title": "Models",
                        "description": "Models for this trial"
                    },
                    "field_metadata_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Field Metadata Id",
                        "description": "Field metadata set ID"
                    },
                    "chart_config": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ChartConfigRequest"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Chart configuration"
                    },
                    "preprocessing": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/PreprocessingConfigRequest"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Preprocessing config"
                    },
                    "service_config": {
                        "anyOf": [
                            {
                                "$ref": "#/components/schemas/ServiceConfigRequest"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "description": "Service config"
                    },
                    "tags": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Tags",
                        "description": "Configuration tags"
                    }
                },
                "type": "object",
                "required": [
                    "trial_slug",
                    "module_id",
                    "models"
                ],
                "title": "CreateTrialRequest",
                "description": "Request to create ML configuration for a trial.\n\nNote: trial_slug + module_id forms a composite key that references an external trial entity.\nThis only stores ML-specific configuration (models, preprocessing, charts, etc.).\nTrial metadata (name, version, status) is managed in the external trial system.",
                "example": {
                    "chart_config": {
                        "enabled": false
                    },
                    "models": [
                        {
                            "display_order": 1,
                            "is_primary": true,
                            "model_id": "model_new_trial_response",
                            "model_key": "response"
                        }
                    ],
                    "module_id": "module-a",
                    "preprocessing": {
                        "missing_value_strategy": "zero_fill",
                        "requires_one_hot": true
                    },
                    "service_config": {
                        "batch_prediction_max_rows": 1000,
                        "cache_ttl_seconds": 300,
                        "enable_execution_tracking": true
                    },
                    "tags": [
                        "ml-config",
                        "v1"
                    ],
                    "trial_slug": "new-trial-study"
                }
            },
            "CreateTrialResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Response status"
                    },
                    "trial_slug": {
                        "type": "string",
                        "title": "Trial Slug",
                        "description": "Created trial slug"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "description": "Success message"
                    }
                },
                "type": "object",
                "required": [
                    "status",
                    "trial_slug",
                    "message"
                ],
                "title": "CreateTrialResponse",
                "description": "Response for create trial endpoint",
                "example": {
                    "message": "Trial created successfully",
                    "status": "success",
                    "trial_slug": "new-trial-study"
                }
            },
            "DeleteTrialResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Response status"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "description": "Success message"
                    }
                },
                "type": "object",
                "required": [
                    "status",
                    "message"
                ],
                "title": "DeleteTrialResponse",
                "description": "Response for delete trial endpoint",
                "example": {
                    "message": "ML configuration deleted successfully for trial 'car-t-cell-therapy-b' module 'module-a'",
                    "status": "success"
                }
            },
            "FieldDefinitionRequest": {
                "properties": {
                    "name": {
                        "type": "string",
                        "title": "Name",
                        "description": "Field name"
                    },
                    "type": {
                        "type": "string",
                        "title": "Type",
                        "description": "Field type (number, string, categorical)"
                    },
                    "description": {
                        "type": "string",
                        "title": "Description",
                        "description": "Field description"
                    },
                    "category": {
                        "type": "string",
                        "title": "Category",
                        "description": "Field category (continuous, categorical)"
                    },
                    "validation": {
                        "anyOf": [
                            {
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Validation",
                        "description": "Validation rules"
                    },
                    "ui_config": {
                        "anyOf": [
                            {
                                "type": "object"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Ui Config",
                        "description": "UI configuration"
                    }
                },
                "type": "object",
                "required": [
                    "name",
                    "type",
                    "description",
                    "category"
                ],
                "title": "FieldDefinitionRequest",
                "description": "Field definition"
            },
            "FieldMetadataResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "default": "success"
                    },
                    "state": {
                        "type": "string",
                        "title": "State",
                        "default": "completed"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message"
                    },
                    "data": {
                        "items": {
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Data"
                    }
                },
                "type": "object",
                "required": [
                    "message",
                    "data"
                ],
                "title": "FieldMetadataResponse",
                "description": "Response for field metadata"
            },
            "HTTPValidationError": {
                "properties": {
                    "detail": {
                        "items": {
                            "$ref": "#/components/schemas/ValidationError"
                        },
                        "type": "array",
                        "title": "Detail"
                    }
                },
                "type": "object",
                "title": "HTTPValidationError"
            },
            "InsertPatientsRequest": {
                "properties": {
                    "patients_data": {
                        "items": {
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Patients Data",
                        "description": "List of patient records to insert"
                    }
                },
                "type": "object",
                "required": [
                    "patients_data"
                ],
                "title": "InsertPatientsRequest",
                "description": "Request for inserting patient records",
                "example": {
                    "patients_data": [
                        {
                            "bestrespg": "CR",
                            "ldh_ipi": "Normal",
                            "ptage": 58,
                            "sex_id": "Female"
                        },
                        {
                            "bestrespg": "PR",
                            "ldh_ipi": "Elevated",
                            "ptage": 62,
                            "sex_id": "Male"
                        }
                    ]
                }
            },
            "InsertPatientsResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Response status"
                    },
                    "inserted_count": {
                        "type": "integer",
                        "title": "Inserted Count",
                        "description": "Number of records inserted"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "description": "Success message"
                    }
                },
                "type": "object",
                "required": [
                    "status",
                    "inserted_count",
                    "message"
                ],
                "title": "InsertPatientsResponse",
                "description": "Response for insert patients endpoint",
                "example": {
                    "inserted_count": 2,
                    "message": "Successfully inserted 2 patient records",
                    "status": "success"
                }
            },
            "ModelReferenceRequest": {
                "properties": {
                    "model_id": {
                        "type": "string",
                        "title": "Model Id",
                        "description": "Model ID from registry"
                    },
                    "model_key": {
                        "type": "string",
                        "title": "Model Key",
                        "description": "Model key for this trial"
                    },
                    "is_primary": {
                        "type": "boolean",
                        "title": "Is Primary",
                        "description": "Is this the primary model?",
                        "default": false
                    },
                    "display_order": {
                        "type": "integer",
                        "title": "Display Order",
                        "description": "Display order in UI",
                        "default": 1
                    }
                },
                "type": "object",
                "required": [
                    "model_id",
                    "model_key"
                ],
                "title": "ModelReferenceRequest",
                "description": "Model reference in trial configuration"
            },
            "ModelsInfoResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "default": "success"
                    },
                    "trial_slug": {
                        "type": "string",
                        "title": "Trial Slug"
                    },
                    "models": {
                        "items": {
                            "type": "object"
                        },
                        "type": "array",
                        "title": "Models"
                    },
                    "message": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Message"
                    }
                },
                "type": "object",
                "required": [
                    "trial_slug",
                    "models"
                ],
                "title": "ModelsInfoResponse",
                "description": "Response for models information"
            },
            "PatientData": {
                "properties": {
                    "patient_data": {
                        "type": "object",
                        "title": "Patient Data"
                    },
                    "requested_models": {
                        "anyOf": [
                            {
                                "items": {
                                    "type": "string"
                                },
                                "type": "array"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Requested Models"
                    }
                },
                "type": "object",
                "required": [
                    "patient_data"
                ],
                "title": "PatientData",
                "description": "Patient data for prediction",
                "example": {
                    "patient_data": {
                        "Age": 58,
                        "Double expressed": "Yes",
                        "ECOG performance score": 1
                    }
                }
            },
            "PredictionResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "default": "success"
                    },
                    "state": {
                        "type": "string",
                        "title": "State",
                        "default": "completed"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message"
                    },
                    "execution_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Execution Id"
                    },
                    "predictions": {
                        "items": {
                            "$ref": "#/components/schemas/PredictionResult"
                        },
                        "type": "array",
                        "title": "Predictions"
                    }
                },
                "type": "object",
                "required": [
                    "message",
                    "predictions"
                ],
                "title": "PredictionResponse",
                "description": "Response for single prediction",
                "example": {
                    "execution_id": "507f1f77bcf86cd799439011",
                    "message": "Prediction completed successfully",
                    "predictions": [
                        {
                            "confidence": 85.5,
                            "confidence_label": "High",
                            "model_name": "Objective Response",
                            "prediction": "0",
                            "prediction_label": "Complete Response"
                        }
                    ],
                    "state": "completed",
                    "status": "success"
                }
            },
            "PredictionResult": {
                "properties": {
                    "model_name": {
                        "type": "string",
                        "title": "Model Name"
                    },
                    "prediction": {
                        "title": "Prediction"
                    },
                    "prediction_label": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Prediction Label"
                    },
                    "confidence": {
                        "anyOf": [
                            {
                                "type": "number"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Confidence"
                    },
                    "confidence_label": {
                        "type": "string",
                        "title": "Confidence Label",
                        "default": "Not Available"
                    },
                    "error": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Error"
                    }
                },
                "type": "object",
                "required": [
                    "model_name",
                    "prediction"
                ],
                "title": "PredictionResult",
                "description": "Single model prediction result"
            },
            "PreprocessingConfigRequest": {
                "properties": {
                    "requires_one_hot": {
                        "type": "boolean",
                        "title": "Requires One Hot",
                        "description": "Requires one-hot encoding?",
                        "default": true
                    },
                    "missing_value_strategy": {
                        "type": "string",
                        "title": "Missing Value Strategy",
                        "description": "Missing value strategy",
                        "default": "zero_fill"
                    },
                    "feature_engineering": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array",
                        "title": "Feature Engineering",
                        "description": "Feature engineering steps"
                    }
                },
                "type": "object",
                "title": "PreprocessingConfigRequest",
                "description": "Preprocessing configuration"
            },
            "ServiceConfigRequest": {
                "properties": {
                    "cache_ttl_seconds": {
                        "type": "integer",
                        "title": "Cache Ttl Seconds",
                        "description": "Cache TTL in seconds",
                        "default": 300
                    },
                    "batch_prediction_max_rows": {
                        "type": "integer",
                        "title": "Batch Prediction Max Rows",
                        "description": "Max rows for batch prediction",
                        "default": 1000
                    },
                    "enable_execution_tracking": {
                        "type": "boolean",
                        "title": "Enable Execution Tracking",
                        "description": "Enable execution tracking?",
                        "default": true
                    }
                },
                "type": "object",
                "title": "ServiceConfigRequest",
                "description": "Service configuration"
            },
            "TrialInfoResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "default": "success"
                    },
                    "trial_info": {
                        "type": "object",
                        "title": "Trial Info"
                    }
                },
                "type": "object",
                "required": [
                    "trial_info"
                ],
                "title": "TrialInfoResponse",
                "description": "Response for trial information"
            },
            "UnifiedModelResponse": {
                "properties": {
                    "status": {
                        "type": "string",
                        "title": "Status",
                        "description": "Response status: success, partial_success, error"
                    },
                    "model_id": {
                        "type": "string",
                        "title": "Model Id",
                        "description": "Created/updated model ID in MongoDB"
                    },
                    "model_key": {
                        "type": "string",
                        "title": "Model Key",
                        "description": "Model key identifier"
                    },
                    "message": {
                        "type": "string",
                        "title": "Message",
                        "description": "Human-readable status message"
                    },
                    "bento_tag": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Bento Tag",
                        "description": "BentoML model tag (e.g., 'trial__module__model_key:v1.0.0')"
                    },
                    "bento_framework": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Bento Framework",
                        "description": "BentoML framework used (sklearn, xgboost, lightgbm, picklable)"
                    },
                    "storage_type": {
                        "type": "string",
                        "title": "Storage Type",
                        "description": "Final storage type (s3, filesystem, http)"
                    },
                    "storage_location": {
                        "type": "string",
                        "title": "Storage Location",
                        "description": "Final storage location (S3 URI, path, or URL)"
                    },
                    "s3_uri": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "S3 Uri",
                        "description": "S3 URI if file was uploaded to S3"
                    },
                    "file_size_bytes": {
                        "anyOf": [
                            {
                                "type": "integer"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "File Size Bytes",
                        "description": "Uploaded file size in bytes"
                    },
                    "version": {
                        "type": "string",
                        "title": "Version",
                        "description": "Model version"
                    },
                    "replaced_model_id": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Replaced Model Id",
                        "description": "ID of deactivated previous model (if replace_existing=true)"
                    },
                    "reload_status": {
                        "anyOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "null"
                            }
                        ],
                        "title": "Reload Status",
                        "description": "Service reload status: reloaded, reload_skipped, reload_failed"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "title": "Created At",
                        "description": "Creation timestamp"
                    }
                },
                "type": "object",
                "required": [
                    "status",
                    "model_id",
                    "model_key",
                    "message",
                    "storage_type",
                    "storage_location",
                    "version",
                    "created_at"
                ],
                "title": "UnifiedModelResponse",
                "description": "Response for unified model registration endpoint.\nContains details about the model saved to both BentoML store and S3.",
                "example": {
                    "bento_framework": "xgboost",
                    "bento_tag": "car_t_therapy__module_a__obj_response:v1.0.0",
                    "created_at": "2025-12-14T10:30:00Z",
                    "file_size_bytes": 1548576,
                    "message": "Model 'Objective Response Predictor' uploaded and registered successfully (BentoML: trial__module__obj_response:v1.0.0, trial 'car-t-therapy' reloaded)",
                    "model_id": "model_obj_response_v1_0_0",
                    "model_key": "obj_response",
                    "reload_status": "reloaded",
                    "replaced_model_id": "model_obj_response",
                    "s3_uri": "s3://ml-models/car-t-therapy/obj_response/1.0.0/model.pkl",
                    "status": "success",
                    "storage_location": "s3://ml-models/car-t-therapy/obj_response/1.0.0/model.pkl",
                    "storage_type": "s3",
                    "version": "1.0.0"
                }
            },
            "ValidationError": {
                "properties": {
                    "loc": {
                        "items": {
                            "anyOf": [
                                {
                                    "type": "string"
                                },
                                {
                                    "type": "integer"
                                }
                            ]
                        },
                        "type": "array",
                        "title": "Location"
                    },
                    "msg": {
                        "type": "string",
                        "title": "Message"
                    },
                    "type": {
                        "type": "string",
                        "title": "Error Type"
                    }
                },
                "type": "object",
                "required": [
                    "loc",
                    "msg",
                    "type"
                ],
                "title": "ValidationError"
            }
        }
    }
}